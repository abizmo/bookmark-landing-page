---
import { cva, type VariantProps } from 'class-variance-authority'

import { cn } from '../../lib/utils'
import type { HTMLAttributes } from 'astro/types'

const buttonVariants = cva(
  'inline-flex items-center justify-center rounded-md text-sm font-medium shadow-md leading-none border-2',
  {
    variants: {
      variant: {
        primary:
          'bg-primary-400 text-neutral-100 shadow-primary-400/25 border-primary-400 hover:text-primary-400 hover:bg-neutral-100 focus-within:text-primary-400 focus-within:bg-neutral-100 outline-none',
        accent:
          'bg-accent-400 text-neutral-100 shadow-accent-400/25 border-accent-400 hover:text-accent-400 hover:bg-neutral-100 focus-within:text-accent-400 focus-within:bg-neutral-100 outline-none',
        neutral:
          'bg-neutral-400/5 text-neutral-400 shadow-neutral-400/25 border-neutral-400/5  hover:border-neutral-400 hover:bg-neutral-100 focus-within:border-neutral-400 focus-within:bg-neutral-100 outline-none'
      },
      size: {
        default: 'py-4 px-6',
        wide: 'py-4 px-8'
      }
    }
  }
)

type Props = (
  | (HTMLAttributes<'button'> & { as?: 'button' })
  | (HTMLAttributes<'a'> & { as: 'a' })
) &
  VariantProps<typeof buttonVariants>

const {
  class: className,
  variant = 'primary',
  size = 'default',
  as: Comp = 'button',
  ...props
} = Astro.props
---

<!-- TODO: fix this -->
<Comp class={cn(buttonVariants({ variant, size, className }))} {...props}>
  <slot />
</Comp>
